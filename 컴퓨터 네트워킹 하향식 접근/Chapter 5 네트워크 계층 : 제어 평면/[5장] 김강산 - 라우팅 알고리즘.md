# 라우팅 알고리즘 분류

- 라우팅 알고리즘은 세 가지 기준으로 분류할 수 있다.
    - 정보 교환 방식 → **중앙 집중형 알고리즘 / 분산형 알고리즘**
    - 경로 설정 방식 → **정적 라우팅 알고리즘 / 동적 라우팅 알고리즘**
    - 부하 반영 여부 → **부하 민감형 알고리즘 / 부하 비민감형 알고리즘**

## 정보 교환 방식에 따른 분류

- **`중앙 집중형`** 또는 **`분산형`** 으로 분류한다.
- 가장 많이 사용되는 분류 기준이다.
    - **어떻게 경로를 계산하는가?** → 가장 핵심적인 관점

---

### 중앙 집중형 라우팅 알고리즘 (LS 알고리즘)

- 네트워크 전체에 대한 **완전한 정보를 각 라우터가 가지고 있다.**
- 각 라우터가 전체 네트워크 링크 상태의 정보를 교환하여 독립적으로 최단 경로를 계산한다.
- 링크 상태(Link-State, LS) 알고리즘 이라고도 한다.
    - 다익스트라 알고리즘으로 구현된다.
## 왜? 전체 네트워크 링크 상태를 아는데? 이웃 노드와 정보를 교환할까?
  - 네트워크는 정적인게 아니라 동적이기 때문에, 항상 변화한다.
    - 새로운 라우터가 추가되거나
    - 라우터/링크가 다운되거나
    - 비용(가중치)가 바뀌거나
   - 해당 변화에 따른 변경된 정보를 반영하기 위해, **최신 정보를 교환할 필요가 있다.**
    - ex : 네트워크 링크 끊어짐
        - 해당 정보를 모든 라우터에 전달 → 빠른 경로 재계산 가능
   - 즉, **LS 방식은 네트워크 토폴로지를 완전히 학습한 후에도 변화가 생길때마다 계속해서 정보를 주고받는다.**
---

### 분산 라우팅 알고리즘 (DV 알고리즘)

- 각 노드는 **자신에게 연결된 링크에 대해서만 정보를 가지고 시작**한다.
- 이웃 노드와 정보 교환을 통해 점차 목적지 까지의 최소 비용 경로를 계산한다.
- 거리 벡터(Distance-Vector, DV)알고리즘 이라고도 한다.
    - 벨만-포드 알고리즘으로 구현된다.

## 경로 설정 방식에 따른 분류

- **`정적`** 또는 **`동적`** 으로 분류한다.
- 상대적으로 덜 중요한 분류 방식이다.
    - 대부분의 네트워크는 **동적 라우팅**을 사용한다.

---

### 정적 라우팅 알고리즘

- 사람(관리자)이 직접 링크 비용을 수정 또는 개입하는 경우
- 경로가 아주 느리게 변한다.
- 경로에 문제가 생길 경우 대처하기가 어렵다.

---

### 동적 라우팅 알고리즘

- 네트워크의 트래픽 부하나 토폴로지 변화에 따라 자동으로 라우팅 경로를 바꾼다.
- 장점
    - 정적 라우팅 알고리즘 보다 변화에 빠르게 대응할수 있다.
- 단점
    - 진동(oscillation) 문제에 취약하다.
        - 라우팅 경로가 계속해서 바뀌면서 안정되지 않는 현상
        - 네트워크 부화 변화/경로 업데이트 지연으로 라우터가 최적 경로를 계속해서 반복적으로 변경하면서 발생한다.부

## 부하 반영 여부에 따른 분류

- **`부하 민감`** 또는 **`부하 비민감`** 으로 분류한다.
- 상대적으로 덜 중요한 분류 방식이다.
    - 주요 인터넷 프로토콜들은 **부하 비민감** 방식을 채택했다.

---

### 부하 민감 알고리즘

- 링크 비용이 **해당 링크의 혼잡 수준을 나타내기 위해** 동적으로 변한다.
- 네트워크 혼잡도나 부하 상태를 반영해 경로 조정
- 다음과 같은 이유로 안쓴다고 한다.
    - 경로 진동 발생 가능성이 높다.
    - 네트워크의 일관성 유지가 어렵다.
    - 즉, 현재의 인터넷 라우팅 프로토콜(OSPF, BGP)은 안정성을 중시해서.

---

### 부하 비민감 알고리즘

- 고정된 비용 기준에 따라 경로 설정
- 현재의 인터넷 라우팅 프로토콜은 혼잡을 반영하지 않는다 → 부하 비민감

# 5.2.1 링크 상태(LS) 라우팅 알고리즘

- 최단 경로 계산을 위해 **다익스트라 알고리즘**을 사용함
    - 출발 노드에서 네트워크 내 다른 모든 노드의 최소 비용 경로를 계산하는 방법
- $O(n^2)$ =  $O(V^2)$ 의 계산 복잡도를 가진다.
    - 다익스트라 알고리즘의 시간 복잡도는 다음과 같다.
        - 힙 사용 : $O(E log V)$
        - 배열 사용 : $O(V^2)$
    - 네트워크 내에서 다익스트라 알고리즘에 힙을 쓰지 않는 이유?
        - 노드가 아주 많지 않음 → 대부분 라우팅 도메인에 수십 ~ 수백개 노드로 구성됨
        - 힙을 사용하면 복잡성이 증가한다 → 신뢰성 낮아짐
        - 라우팅 업데이트가 자주 발생하지 않음 → 수 초 ~ 수십 초 마다 실행되므로, 감당 가능하다.
- 진동 문제가 발생할 수 있다.
- 대표적인 프로토콜
    - **OSPF**

# 5.2.2 거리 벡터(DV) 라우팅 알고리즘

- 최단 경로 계산을 위해 **벨만-포드 알고리즘**을 사용함
    - 모든 간선을 여러 번 비교
    - 더 짧은 경로가 발견되면 최단 경로 값 업데이트
- 각 노드가 오직 직접 연결된 이웃이랑만 메시지 교환
    - 모든 노드들은 다른 모든 노드에게 **자신과 연결된 노드의 간선 정보**를 알려준다.
- 대표적인 프로토콜
    - **RIP**
